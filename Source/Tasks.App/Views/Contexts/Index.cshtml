@using Tasks.App.Models
@model ContextIndexModel

@{
    ViewBag.Title = "Tasks";
}

<h2>Tasks</h2>

<div>

    <ul>
    @foreach(var task in Model.Tasks)
    {
        <li>@Html.ActionLink("X", "CompleteTask", "Tasks", new { id = task.TaskId }, null) - @task.Title
        
        @foreach(var context in Model.OtherContexts)
        {
            <span>[@Html.ActionLink("> "+context.Name, "MoveTaskToContext", "Tasks", new { targetContextId = context.ContextId, taskId = task.TaskId, fromContextId = task.ContextId }, null)]</span>
        }
        </li>
    }
    </ul>

</div>


@Html.ActionLink("Create task", "Create", "Tasks")

